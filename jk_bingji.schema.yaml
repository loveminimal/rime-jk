# Rime schema
# encoding: utf-8

schema:
  schema_id: jk_bingji
  name: 并击·知心
  author:
    - by Jack Liu <https://aituyaa.com>
  description: |
    - 知心并击，并击·小鹤+五笔前二辅助码，小啊小并击
    - 基于袖珍简化字拼音及自制通规8105单字表
    - 支持全拼
    - 小鹤双拼+五笔前二增强版「 默认 」
  dependencies:
    - jk_ascii
  icon: 'assets/fly_m.ico'
  ascii_icon: 'assets/ascii.ico'

switches:
  __include: jk.yaml:/switches

engine:
  __include: jk_pinyin.schema.yaml:/engine

pro_comment_format:
  __include: jk_pinyin.schema.yaml:/pro_comment_format

speller:
  __include: jk_pinyin.schema.yaml:/speller

# https://github.com/gaboolic/rime-shuangpin-fuzhuma
chord_composer:
  prompt_format:
    - "xform/^(.*)$/[$1]/" 
  output_format:
    - "xform/^(.*)左/$1/"
    - "xform/^(.*)右$/$1/"
    - "xform/^(.*)左(.*)右$/$1$2/"
  alphabet: "aqzswxdecfrvgtbhynjumki,lo.;p'/"
  # 支持：
  # ① 知心键位      algebra_zhixin 「兼容正常串击键位 ✓」
  # ② 空明码键位  algebra_kongming 「兼容正常串击键位 ✗」
  algebra:
    __include: algebra_kongming

algebra_kongming:
  # --- 修改为空明码键位 ---
  # - "xform/^,$/,/"
  # - "xform/^\.$/./"
  # 定义左手15键       
  - xform/^ef(?![左右])/y左/
  - xform/^er(?![左右])/u左/
  - xform/^we(?![左右])/i左/
  - xform/^wr(?![左右])/o左/
  - xform/^qr(?![左右])/p左/

  - xform/^wf(?![左右])/h左/
  - xform/^df(?![左右])/j左/
  - xform/^sd(?![左右])/k左/
  - xform/^sf(?![左右])/l左/
  - xform/^af(?![左右])/;左/

  - xform|^zv(?![左右])|/左| 
  - xform/^sc(?![左右])/n左/
  - xform/^cv(?![左右])/m左/ 
  - xform/^xc(?![左右])/,左/ 
  - xform/^xv(?![左右])/.左/ 

  # 定义右手15+15键
  - xform/ji(?![左右])$/y右/
  - xform/ui(?![左右])$/u右/
  - xform/io(?![左右])$/i右/
  - xform/uo(?![左右])$/o右/
  - xform/up(?![左右])$/p右/

  - xform/jo(?![左右])$/h右/
  - xform/jk(?![左右])$/j右/
  - xform/kl(?![左右])$/k右/
  - xform/jl(?![左右])$/l右/
  - xform/j;(?![左右])$/;右/    

  - xform|m/(?![左右])$|/右|
  - xform/ml(?![左右])$/n右/
  - xform/m,(?![左右])$/m右/
  - xform/,.(?![左右])$/,右/
  - xform/m.(?![左右])$/.右/

  - xform/p(?![左右])$/q右/
  - xform/o(?![左右])$/w右/
  - xform/i(?![左右])$/e右/
  - xform/u(?![左右])$/r右/
  - xform/y(?![左右])$/t右/

  - xform/;(?![左右])$/a右/
  - xform/l(?![左右])$/s右/
  - xform/k(?![左右])$/d右/
  - xform/j(?![左右])$/f右/
  - xform/h(?![左右])$/g右/

  - xform|/(?![左右])$|z右|
  - xform/\.(?![左右])$/x右/
  - xform/,(?![左右])$/c右/
  - xform/m(?![左右])$/v右/
  - xform/n(?![左右])$/b右/

algebra_zhixin:
  # --- 修改为知心键位 ---
  # - "xform/^,$/,/"
  # - "xform/^\.$/./"
  # 定义左手15键       
  - xform/^ef(?![左右])/y左/
  - xform/^wf(?![左右])/u左/
  - xform/^wef(?![左右])/i左/
  - xform/^we(?![左右])/o左/
  - xform/^wr(?![左右])/p左/

  - xform/^df(?![左右])/h左/
  - xform/^sf(?![左右])/j左/
  - xform/^sdf(?![左右])/k左/
  # - xform/^sd(?![左右])/l左/
  - xform/^af(?![左右])/;左/

  - xform/^dv(?![左右])/n左/
  - xform/^sv(?![左右])/m左/ 
  - xform/^sdv(?![左右])/,左/ 
  - xform/^dc(?![左右])/.左/ 
  - xform/^sc(?![左右])/?左/ 


  - xform/^sd(?![左右])/l左/ # 原 150

  # 定义右手15键
  - xform/ji(?![左右])$/q右/
  - xform/jo(?![左右])$/w右/
  - xform/jio(?![左右])$/e右/
  - xform/io(?![左右])$/r右/
  - xform/uo(?![左右])$/t右/

  - xform/jk(?![左右])$/a右/
  - xform/jl(?![左右])$/s右/
  - xform/jkl(?![左右])$/d右/
  # - xform/kl(?![左右])$/f右/
  - xform/j;(?![左右])$/g右/    

  - xform/nk(?![左右])$/z右/
  - xform/nl(?![左右])$/x右/
  - xform/nkl(?![左右])$/c右/
  - xform/mk(?![左右])$/v右/
  - xform/ml(?![左右])$/b右/

  - xform/kl(?![左右])$/f右/ # 173


translator:
  __include: jk_pinyin.schema.yaml:/translator
  prism: jk_bingji

date_translator:
  jk_datetime: iii

key_binder:
  import_preset: default

recognizer:
  __include: jk.yaml:/recognizer

punctuator:
  __include: jk.yaml:/punctuator

reverse_lookup:
  __include: jk.yaml:/reverse_lookup

custom_phrase:
  __include: jk.yaml:/custom_phrase

emoji:
  __include: jk.yaml:/emoji

zh2en:
  __include: jk.yaml:/zh2en

chaifen:
  __include: jk.yaml:/chaifen
