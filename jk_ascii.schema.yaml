# Rime schema
# encoding: utf-8

schema:
  schema_id: jk_ascii
  name: è‹±æ–‡Â·çŸ¥å¿ƒ
  author: 
    - å‘æ˜äºº Jack Liu <https://aituyaa.com>
  description: |
    - çŸ¥å¿ƒå­—ç¬¦ï¼Œä¸€æ¬¾å¿«é€Ÿè¾“å…¥æ•°å­—å’Œé¢„è®¾å­—ç¬¦çš„é”®ç›˜å¼è¾“å…¥æ³•æ–¹æ¡ˆ
    - https://github.com/loveminimal/rime-jk
  version: "0.0.1"
  icon: "assets/pr.ico"
  ascii_icon: 'assets/ascii.ico'

pro_comment_format:
  fuzhu_code: true   
  candidate_length: 0
  fuzhu_type: en   

switches:
  - name: ascii_mode
    reset: 0 
    states: [ ä¸­æ–‡, è‹±æ–‡ ]
  - name: emoji
    reset: 1
    states: [ ğŸ’€, ğŸ˜„ ]
  - name: chaifen
    reset: 0
    states: [ éšæ‹†, æ˜¾æ‹† ]

engine:
  processors:
    - key_binder
    - recognizer
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - echo_translator
    - punct_translator
    - table_translator
    - reverse_lookup_translator
    - lua_translator@*force_gc
  filters:
    - lua_filter@*pro_comment_format
    - lua_filter@*is_in_user_dict
    - uniquifier

# === speller ===
speller:
  # [ âœ—ä¸Šå± ]
  # å¦‚æœä¸æƒ³è®©ä»€ä¹ˆæ ‡ç‚¹ç›´æ¥ä¸Šå±ï¼Œå¯ä»¥åŠ åœ¨ alphabetï¼Œæˆ–è€…ç¼–è¾‘æ ‡ç‚¹ç¬¦å·ä¸ºä¸¤ä¸ªåŠä»¥ä¸Šçš„æ˜ å°„
  # alphabet: Â·
  alphabet: z%
  # alphabet: zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA
  # alphabet: zZYXWVUTSRQPONMLKJIHGFEDCBA
  # [ âœ“ä¸Šå± ]
  # initials å®šä¹‰ä»…ä½œä¸ºå§‹ç çš„æŒ‰é”®ï¼Œæ’é™¤ ` è®©å•ä¸ªçš„ ` å¯ä»¥ç›´æ¥ä¸Šå±
  initials: zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA`
  # initials: zyxwvutsrqponmlkjihgfedcba`

abc_segmentor:
  extra_tags:
    - reverse_lookup

translator:
  dictionary: jk_ascii
  enable_sentence: false  
  enable_user_dict: false 
  enable_word_completion: true
  initial_quality: 1.1    
  comment_format: {comment}      

reverse_lookup:
  dictionary: jk_ascii
  # prefix: "`"
  prefix: "%"
  suffix: ":"
  tips: ã€”å­—ç¬¦Â·åæŸ¥ã€•

punctuator:
  import_preset: default
  symbols:
    __include: symbols_z:/symbols
  half_shape: &symtable
    ',' : { commit: ',' }
    '.' : { commit: '.' }
    '<' : '<'
    '>' : '>'
    '/' : '/'
    '?' : { commit: '?' }
    ';' : { commit: ';' }
    ':' : { commit: ':' }
    "'" : "'"
    '"' : '"'
    '\' : '\'
    '|' : '|'
    '`' : '`'
    '~' : '~'
    '!' : { commit: '!' }
    '@' : '@'
    '#' : '#'
    '%' : '%'
    '$' : '$'
    '^' : '^'
    '&' : '&'
    '*' : '*'
    '(' : '('
    ')' : ')'
    '-' : '-'
    '_' : '_'
    '+' : '+'
    '=' : '='
    '[' : '['
    ']' : ']'
    '{' : '{'
    '}' : '}'
  full_shape: *symtable

key_binder:
  import_preset: default
  # bindings/+:
  #   - { when: always, accept: Control+u, send: '_' }
  #   - { when: always, accept: Control+i, send: '-' }
  #   - { when: always, accept: Control+o, send: '=' }

recognizer:
  # import_preset: default
  patterns:
    reverse_lookup: "^%[a-z]*:?$"
    punct: "^z([0-9]|10|[A-Za-z]+)$"