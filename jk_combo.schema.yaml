# Rime schema
# encoding: utf-8

schema:
  schema_id: jk_combo
  name: 拼音·宮保
  version: '3.0'
  author:
    - 居戎氏 <chen.sst@gmail.com>
  description: |
    並擊輸入拼音
    https://github.com/rime/home/wiki/ComboPinyin
  icon: 'assets/brush.ico'
  ascii_icon: 'assets/ascii.ico'

switches:
  __include: jk_pinyin.schema.yaml:/switches

engine:
  __include: jk_pinyin.schema.yaml:/engine


# key_binder:
#   import_preset: default

recognizer:
  __include: jk_pinyin.schema.yaml:/recognizer

punctuator:
  __include: jk_pinyin.schema.yaml:/punctuator

speller:
  alphabet: "zyxwvutsrqponmlkjihgfedcba'"
  initials: "zyxwvutsrqponmlkjihgfedcba"
  finals: "'"
  delimiter: " "
  algebra:
    - xlit/āáǎàōóǒòēéěèīíǐìūúǔùǖǘǚǜü/aaaaooooeeeeiiiiuuuuvvvvv/
    - xform/ńg|ňg|ǹg/en/
    - xform/ń|ň|ǹ/en/
    # - xform/(;.*)$//
    - erase/(;.*)$/

    - derive/(;.*)$//
    - abbrev/^([a-z]).+$/$1/
    - derive/^([a-z])$/$1/
    # 拼音音節一律後加隔音符號，避免音節切分歧義
    - "xform/^([a-z]+)$/$1'/"

chord_composer:
  __include: jk_pinyin.schema.yaml:/chord_composer_pinyin

editor:
  bindings:
    # 退格鍵刪除一個拼音音節
    BackSpace: back_syllable


translator:
  dictionary: jk_pinyin
  prism: jk_combo
  enable_charset_filter: true     
  enable_sentence: true           
  enable_encoder: true            
  encode_commit_history: false     
  enable_completion: true     
  enable_user_dict: false      
  spelling_hints: 1
  # comment_format: "{comment}" 
  comment_format:
    # - xform/[^;]*;([^;]*)/$1/
    - xform|.|| # 不显示补全码
  preedit_format:
    - xform/([nl])v/$1ü/
    - xform/([nl])ue/$1üe/
    - xform/([jqxy])v/$1u/
    - "xform/' /'/"   

date_translator:
  __include: jk_pinyin.schema.yaml:/date_translator

reverse_lookup:
  __include: jk_pinyin.schema.yaml:/reverse_lookup

pinyin:
  __include: jk_pinyin.schema.yaml:/pinyin

user_dict_set:
  __include: jk_pinyin.schema.yaml:/user_dict_set

add_user_dict:
  __include: jk_pinyin.schema.yaml:/add_user_dict

# custom_phrase:
#   __include: jk_pinyin.schema.yaml:/custom_phrase

emoji:
  __include: jk_pinyin.schema.yaml:/emoji

zh2en:
  __include: jk_pinyin.schema.yaml:/zh2en

chaifen:
  __include: jk_pinyin.schema.yaml:/chaifen

traditionalize:
  __include: jk_pinyin.schema.yaml:/traditionalize

#语法模型
__include: octagram	#启用语言模型
octagram:
  __include: jk_pinyin.schema.yaml:/octagram
