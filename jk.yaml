# Rime jk model
# encoding: utf-8

# === ç‰ˆæœ¬ ===
version:
  version: '6.2.0+'


# === å¼€å…³ ===
# reset: â† 0 1 â†’
switches:
  - name: ascii_mode
    reset: 0 
    states: [ ä¸­æ–‡, è‹±æ–‡ ]
  # - name: full_shape
  #   states: [åŠè§’, å…¨è§’]
  - name: emoji
    reset: 1
    states: [ ğŸ’€, ğŸ˜„ ]
  - name: chaifen
    reset: 0
    states: [ éšæ‹†, æ˜¾æ‹† ]


# === è¶…çº§æ³¨é‡Šæ¨¡å— ===
pro_comment_format:                   # è¶…çº§æ³¨é‡Šï¼Œå­é¡¹é…ç½® true å¼€å¯ï¼Œfalse å…³é—­
  fuzhu_code: true                    # å¯ç”¨è¾…åŠ©ç æé†’ï¼Œç”¨äºè¾…åŠ©è¾“å…¥ç»ƒä¹ è¾…åŠ©ç ï¼Œæˆç†Ÿåå¯å…³é—­
  candidate_length: 1                 # å€™é€‰è¯è¾…åŠ©ç æé†’çš„ç”Ÿæ•ˆé•¿åº¦ï¼Œ0ä¸ºå…³é—­  ä½†åŒæ—¶æ¸…ç©ºå…¶å®ƒï¼Œåº”å½“ä½¿ç”¨ä¸Šé¢å¼€å…³æ¥å¤„ç†    
  fuzhu_type: flypy                   # ç”¨äºåŒ¹é…å¯¹åº”çš„è¾…åŠ©ç æ³¨é‡Šæ˜¾ç¤ºï¼Œå¯é€‰æ˜¾ç¤ºç±»å‹æœ‰ï¼šmoqi, flypy, zrm, tiger, wubi,é€‰æ‹©ä¸€ä¸ªå¡«å…¥ï¼Œåº”ä¸ä¸Šé¢è¾…åŠ©ç ç±»å‹ä¸€è‡´
  corrector: true                     # å¯ç”¨é”™éŸ³é”™è¯æé†’ï¼Œä¾‹å¦‚è¾“å…¥ geiyu ç»™äºˆ è·å¾— jiyu æç¤º
  corrector_type: "{comment}"         # æ–°å¢ä¸€ä¸ªæ˜¾ç¤ºç±»å‹ï¼Œæ¯”å¦‚"ã€{comment}ã€‘" 


# === speller/algebra ===
# --- å…¨æ‹¼ ---
algebra_py: 
  __append: 
    - xlit/ÄÃ¡ÇÃ ÅÃ³Ç’Ã²Ä“Ã©Ä›Ã¨Ä«Ã­ÇÃ¬Å«ÃºÇ”Ã¹Ç–Ç˜ÇšÇœÃ¼/aaaaooooeeeeiiiiuuuuvvvvv/
    #- erase/^xx;.*$/
    - derive/(;.*)$//
    - derive/;//
    - abbrev/^([a-z]).+$/$1/

# --- å°é¹¤ ---
algebra_flypy: 
  __append:
    #- erase/^xx$/
    - xlit/ÄÃ¡ÇÃ ÅÃ³Ç’Ã²Ä“Ã©Ä›Ã¨Ä«Ã­ÇÃ¬Å«ÃºÇ”Ã¹Ç–Ç˜ÇšÇœÃ¼/aaaaooooeeeeiiiiuuuuvvvvv/
    - derive/^([jqxy])u(;.*)$/$1v$2/
    - derive/^([aoe])([ioun])(;.*)$/$1$1$2$3/
    - xform/^([aoe])(ng)?(;.*)$/$1$1$2$3/
    - xform/^(\w+?)iu(;.*)/$1â“†$2/
    - xform/^(\w+?)ei(;.*)/$1â“Œ$2/
    - xform/^(\w+?)uan(;.*)/$1â“‡$2/
    - xform/^(\w+?)[uv]e(;.*)/$1â“‰$2/
    - xform/^(\w+?)un(;.*)/$1â“$2/
    - xform/^(\w+?)uo(;.*)/$1â“„$2/
    - xform/^(\w+?)ie(;.*)/$1â“…$2/
    - xform/^(\w+?)i?ong(;.*)/$1â“ˆ$2/
    - xform/^(\w+?)ing(;.*)/$1â“€$2/
    - xform/^(\w+?)uai(;.*)/$1â“€$2/
    - xform/^(\w+?)ai(;.*)/$1â’¹$2/
    - xform/^(\w+?)eng(;.*)/$1â’¼$2/
    - xform/^(\w+?)en(;.*)/$1â’»$2/
    - xform/^(\w+?)[iu]ang(;.*)/$1â“$2/
    - xform/^(\w+?)ang(;.*)/$1â’½$2/
    - xform/^(\w+?)ian(;.*)/$1â“‚$2/
    - xform/^(\w+?)an(;.*)/$1â’¿$2/
    - xform/^(\w+?)ou(;.*)/$1â“$2/
    - xform/^(\w+?)iao(;.*)/$1â“ƒ$2/
    - xform/^(\w+?)[iu]a(;.*)/$1â“$2/
    - xform/^(\w+?)ao(;.*)/$1â’¸$2/
    - xform/^(\w+?)ui(;.*)/$1â“‹$2/
    - xform/^(\w+?)in(;.*)/$1â’·$2/
    - xform/^sh/â“Š/
    - xform/^ch/â’¾/
    - xform/^zh/â“‹/
    - xlit/â“†â“Œâ“‡â“‰â“â“Šâ’¾â“„â“…â“ˆâ’¹â’»â’¼â’½â’¿â“€â“â“â“â’¸â“‹â’·â“ƒâ“‚/qwrtyuiopsdfghjklzxcvbnm/
    - abbrev/^([a-z]).+$/$1/


# === è¾…åŠ©ç æ–¹æ¡ˆ ===
# # ä½äºè¯åº“ç¬¬ä¸€ä¸ªåˆ†å·å
# - xform|^(.{2});(.*?);.*$|$1;$2|                                  # åŒ¹é…å½“å‰æ–¹æ¡ˆï¼Œè½¬æ¢ä¸º åŒæ‹¼ï¼›è¾…åŠ©ç ï¼ˆå½“å‰æ–¹æ¡ˆï¼‰çš„å½¢å¼
# - xform|^(\w+?);(.*?);.*$|$1;$2|
# --- ç©º ---
fuzhu_kong: 
  __append: 
    - "xform/;.*$//"
 
# --- å°é¹¤è¾…åŠ©ç  ---
# ä½äºè¯åº“ç¬¬äºŒä¸ªåˆ†å·å
fuzhu_flypy:
  __append:
    # - xform/^(.{2}|\w+?);.*?;(.*?);.*$/$1;$2/   
    - derive|^(.{2});.*$|$1|                                          # çº¯åŒæ‹¼çš„æƒ…å†µ
    - derive|^(.{2});(\w)(\w).*$|$1$2|                                # åŒæ‹¼+ä¸€ä½è¾…åŠ©ç çš„æƒ…å†µ
    - derive|^(.{2});(\w)(\w).*$|$1[$2|                               # åŒæ‹¼+[ä¸€ä½è¾…åŠ©ç çš„æƒ…å†µ
    - derive|^(.{2});.*?,(\w)(\w).*$|$1$2|                            # åŒæ‹¼+ä¸€ä½è¾…åŠ©ç çš„æƒ…å†µ
    - derive|^(.{2});.*?,(\w)(\w).*$|$1[$2|                           # åŒæ‹¼+[ä¸€ä½è¾…åŠ©ç çš„æƒ…å†µ
                    
    - abbrev|^(.{2});(\w)(\w).*$|$1$2$3|                              # åŒæ‹¼+2ä½è¾…åŠ©ç çš„æƒ…å†µï¼Œabbrevç±»å‹ä¸å¯ä»¥æ•´å¥å†…è¾“å…¥2ä½è¾…åŠ©ç ï¼Œå¿…é¡»åŠ oæˆ–/
    - abbrev|^(.{2});.*?,(\w)(\w).*$|$1$2$3|                          # åŒæ‹¼+2ä½è¾…åŠ©ç çš„æƒ…å†µï¼Œabbrevç±»å‹ä¸å¯ä»¥æ•´å¥å†…è¾“å…¥2ä½è¾…åŠ©ç ï¼Œå¿…é¡»åŠ oæˆ–/

    - derive|^(.{2});(\w)(\w).*$|$1$2$3o|                             # æ•´å¥æ¨¡å¼ä¸‹ï¼Œè¾“å…¥syffo å‡ºå•å­— å¢å¼ºå•å­—æ€§èƒ½
    - derive|^(.{2});(\w)(\w).*$|$1$2$3/|                             # æ•´å¥æ¨¡å¼ä¸‹ï¼Œè¾“å…¥syff/ å‡ºå•å­— å¢å¼ºå•å­—æ€§èƒ½
    - derive|^(.{2});.*,(\w)(\w).*$|$1$2$3o|                          # æ•´å¥æ¨¡å¼ä¸‹ï¼Œè¾“å…¥syffo å‡ºå•å­— å¢å¼ºå•å­—æ€§èƒ½
    - derive|^(.{2});.*,(\w)(\w).*$|$1$2$3/|                          # æ•´å¥æ¨¡å¼ä¸‹ï¼Œè¾“å…¥syff/ å‡ºå•å­— å¢å¼ºå•å­—æ€§èƒ½
   

# === è¯­è¨€æ¨¡å‹ ===
octagram:
  __patch:
    grammar:
      language: wanxiang-lts-zh-hans
      collocation_max_length: 8                                       # å‘½ä¸­çš„æœ€é•¿è¯ç»„
      collocation_min_length: 3                                       # å‘½ä¸­çš„æœ€çŸ­è¯ç»„ï¼Œæ­é…è¯é¢‘å¥å…¨çš„è¯åº“æ—¶å€™åº”å½“æœ€å°å€¼è®¾ä¸º3é¿å¼€2å­—é«˜é¢‘è¯
      collocation_penalty: -10                                        # é»˜è®¤-12 å¯¹å¸¸è§æ­é…è¯ç»„æ–½åŠ çš„æƒ©ç½šå€¼ã€‚è¾ƒé«˜çš„è´Ÿå€¼ä¼šé™ä½è¿™äº›æ­é…è¢«é€‰ä¸­çš„æ¦‚ç‡ï¼Œé˜²æ­¢è¿‡äºé¢‘ç¹åœ°å‡ºç°æŸäº›å›ºå®šæ­é…ã€‚
      non_collocation_penalty: -12                                    # é»˜è®¤-12 å¯¹éæ­é…è¯ç»„æ–½åŠ çš„æƒ©ç½šå€¼ã€‚è¾ƒé«˜çš„è´Ÿå€¼ä¼šé™ä½éæ­é…è¯ç»„è¢«é€‰ä¸­çš„æ¦‚ç‡ï¼Œé¿å…ä¸åˆé€»è¾‘æˆ–ä¸å¸¸è§çš„è¯ç»„ç»„åˆã€‚
      weak_collocation_penalty: -24                                   # é»˜è®¤-24 å¯¹å¼±æ­é…è¯ç»„æ–½åŠ çš„æƒ©ç½šå€¼ã€‚ä¿æŒé»˜è®¤å€¼é€šå¸¸æ˜¯ä¸ºäº†æœ‰æ•ˆè¿‡æ»¤æ‰ä¸å¤ªå¸¸è§ä½†ä»ç„¶åˆç†çš„è¯ç»„ç»„åˆã€‚
      rear_penalty: -30                                               # é»˜è®¤-18 å¯¹è¯ç»„ä¸­åç»­è¯è¯­çš„ä½ç½®æ–½åŠ çš„æƒ©ç½šå€¼ã€‚è¾ƒé«˜çš„è´Ÿå€¼ä¼šé™ä½æŸäº›è¯è¯­åœ¨å¥å­åéƒ¨å‡ºç°çš„æ¦‚ç‡ï¼Œé˜²æ­¢å¥å­ç»“æ„ä¸è‡ªç„¶ã€‚
    translator/contextual_suggestions: false
    translator/max_homophones: 5
    translator/max_homographs: 5