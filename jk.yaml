# Rime JK model
# encoding: utf-8


version: v6.6.0.lts


# === å¼€å…³ ===
# -------------------------------------
# ascii_mode  ä¸­è‹±åˆ‡æ¢
# emoji       æ˜¾éšè¡¨æƒ…
# zh2en       æ˜¾éšä¸­è‹±
# chaifen     æ˜¾éšæ‹†åˆ†
# -------------------------------------
# reset: â† 0 1 â†’
switches:
  - name: ascii_mode
    reset: 0 
    states: [ ä¸­æ–‡, è‹±æ–‡ ]
  - name: traditionalization
    states: [ ç®€ä½“, ç¹ä½“ ]  
    reset: 0
  - name: emoji
    reset: 1
    states: [ ğŸ’€, ğŸ˜„ ]
  - name: zh2en
    reset: 0
    states: [ â˜·è¯‘, â˜°è¯‘ ]
  - name: chaifen
    reset: 0
    states: [ éšæ‹†, æ˜¾æ‹† ]


# === è¯†åˆ«å™¨ ===
# -------------------------------------
# åŒ¹é…ç‰¹å®šçš„è¾“å…¥æ¨¡å¼ï¼Œå¹¶ç»™å®ƒä»¬æ‰“ä¸Šæ ‡ç­¾ï¼Œä»¥ä¾¿åç»­åˆ‡åˆ†ã€ç¿»è¯‘å¤„ç†
# reverse_lookup  åæŸ¥æ ‡ç­¾
# punct           è‡ªå®šä¹‰ç¬¦å·æ˜ å°„ï¼Œå“åº” symbols_v.yaml çš„ symbolsï¼Œç”¨ 'z' æ›¿æ¢ '/'
# pinyin          æ‹¼éŸ³åæŸ¥ï¼Œå–æ¶ˆå¼•å¯¼è¯ï¼Œç›´æ¥äº”ç¬”æ‹¼éŸ³æ··è¾“ã€Œç”¨ä»»æ„å¤§å†™å­—æ¯éš”å¼€ï¼Œé˜²æ­¢åæŸ¥æ··å…¥ã€
# -------------------------------------
recognizer:
  # import_preset: default
  patterns:
    reverse_lookup: "^~~[a-z]*:?$"
    punct: "^~(~|[0-9]|10|[A-Za-z]+)$"
    pinyin: "^Z[Xa-z]*$"    
    history: "^(~hs|hS)$"
    helper: "^(~hh|hH)$"
    # quick_symbol: "^'.*$" 
    # quick_text: "^;.*$"

# === æ ‡ç‚¹ç¬¦å·å¤„ç†å™¨ ===
# -------------------------------------
# è´Ÿè´£å¤„ç†æ ‡ç‚¹ç¬¦å·è¾“å…¥ï¼Œå¯å¯¼å…¥ç¬¦å·æ˜ å°„ã€Œå¦‚ symbols_zã€
# -------------------------------------
punctuator:
  import_preset: default
  symbols:
    __include: symbols_z:/symbols


# === åæŸ¥ ===
# -------------------------------------
# date_translator æ—¥æœŸæ—¶é—´è¾“å…¥
# reverse_lookup  è‹±æ–‡ç¿»è¯‘å­—å…¸
# pinyin          æ‹¼éŸ³åæŸ¥
# custom_phrase   è‡ªå®šä¹‰ç è¡¨
# -------------------------------------
date_translator:
  jk_datetime: ~d

reverse_lookup:
  dictionary: jk_ascii
  # prefix: "`"
  prefix: "~~"
  suffix: ":"
  tips: ã€”è‹±æ–‡Â·é‡Šä¹‰ã€•
  enable_completion: true
  preedit_format:
    # - xlit|~| |
    # - xlint|(~+)| |

pinyin:
  tag: pinyin
  dictionary: jk_pinyin
  prefix: "Z"
  suffix: "'"
  tips: ã€”æ‹¼éŸ³Â·åæŸ¥ã€•
  preedit_format:
    - xform/([nl])v/$1Ã¼/
    - xform/([nl])ue/$1Ã¼e/
    - xform/([jqxy])v/$1u/

history:
  tag: history
  tips: ã€”ä¸Šå±Â·å†å²ã€•
  prifix: "~hs"
  initial_quality: 99
  comment_max_length: 9
  max_count: 12

# -------------------------------------
# custom_phrase:
#   db_class: stabledb        åªè¯»æ•°æ®åº“ï¼Œæ— æ³•åŠ¨æ€è°ƒé¢‘ï¼›è®¾ä¸º tabledb å¯ä»¥åŠ¨æ€è°ƒé¢‘
#   enable_completion: false  è¡¥å…¨æç¤º
#   enable_sentence: false    ç¦æ­¢é€ å¥
# -------------------------------------
custom_phrase:
  dictionary: ""
  user_dict: custom_phrase
  db_class: stabledb      
  enable_completion: false
  enable_sentence: false  
  initial_quality: 99


# === å¹¶å‡» ===
# -------------------------------------
# prompt_format å¹¶å‡»è¿‡ç¨‹ä¸­å¥—ç”¨å¼æ ·ã€ŒåŠ æ–¹æ‹¬å·ã€
# output_format å¹¶å‡»å®Œæˆåå¥—ç”¨å¼æ ·
# alphabet      å‡»é”®ä¸€å¾‹ä»¥å­—æ¯è¡¨é¡ºåºæ’åˆ—ã€Œå­—æ¯è¡¨ï¼ŒåŒ…å«ç”¨å¹¶å‡»æŒ‰é”®ã€
# algebra       è¿ç®—è§„åˆ™
# 
# https://github.com/gaboolic/rime-shuangpin-fuzhuma
# -------------------------------------
# --- è¿·ä½ ç‰ˆ ---
chord_composer_mini:
  prompt_format:
    - "xform/^(.*)$/[$1]/" 
  output_format:
    - "xform/^(.*)å·¦/$1/"
    - "xform/^(.*)å³$/$1/"
    - "xform/^(.*)å·¦(.*)å³$/$1$2/"
  # alphabet: "aqzswxdecfrvgtbhynjumki,lo.;p'/"
  # alphabet: zr;"
  alphabet: "1234567890\\;',./"
  algebra:
    # --- ä¿®æ”¹ä¸ºJKé”®ä½ ---
    # å®šä¹‰å·¦æ‰‹é”®
    # - xform/^er(?![å·¦å³])/yå·¦/
    # å®šä¹‰å³æ‰‹é”®
    # - xform/z;(?![å·¦å³])$/Zå³/
    # --- ç¬¦å·å¿«è¾“ ---
    - xform/15(?![å·¦å³])$/`å³/
    - xform/14(?![å·¦å³])$/!å³/
    - xform/24(?![å·¦å³])$/@å³/
    - xform/23(?![å·¦å³])$/#å³/
    - xform/34(?![å·¦å³])$/$å³/
    - xform/45(?![å·¦å³])$/%å³/

    - xform/67(?![å·¦å³])$/^å³/
    - xform/78(?![å·¦å³])$/&å³/
    - xform/89(?![å·¦å³])$/*å³/
    - xform/79(?![å·¦å³])$/(å³/
    - xform/70(?![å·¦å³])$/)å³/

    - xform/,\.(?![å·¦å³])$/~å³/
    - xform|\./(?![å·¦å³])$|}å³|
    - xform|,/(?![å·¦å³])$|!å³|

    - xform/;,(?![å·¦å³])$/|å³/
    - xform/;\.(?![å·¦å³])$/&å³/

    - xform/',(?![å·¦å³])$/â€”â€”å³/
    - xform/'\.(?![å·¦å³])$/+å³/

    - xform/;'(?![å·¦å³])$/{å³/

# --- å®Œæ•´ç‰ˆ ---
# -------------------------------------
# â‘  çŸ¥å¿ƒé”®ä½         algebra_zhixin ã€Œå…¼å®¹æ­£å¸¸ä¸²å‡»é”®ä½ âœ“       ã€
# â‘¡ ç©ºæ˜ç é”®ä½     algebra_kongming ã€Œå…¼å®¹æ­£å¸¸ä¸²å‡»é”®ä½ âœ—       ã€
# â‘¢ é•œåƒé”®ä½         algebra_mirror ã€Œå…¼å®¹æ­£å¸¸ä¸²å‡»é”®ä½ âœ— ç©ºæ˜æ”¹ã€
# -------------------------------------
chord_composer:
  prompt_format:
    - "xform/^(.*)$/[$1]/" 
  output_format:
    - "xform/^(.*)å·¦/$1/"
    - "xform/^(.*)å³$/$1/"
    - "xform/^(.*)å·¦(.*)å³$/$1$2/"
  alphabet: "aqzswxdecfrvgtbhynjumki,lo.;p/'1234567890"
  algebra:
    __include: algebra.yaml:/algebra_mirror


# === OpenCC ===
# -------------------------------------
# emoji 
# zh2en   ä¸­è¯‘è‹±
# chaifen äº”ç¬”æ‹†åˆ†
# -------------------------------------
emoji:
  option_name: emoji
  opencc_config: emoji.json
  inherit_comment: false

zh2en:
  option_name: zh2en
  opencc_config: zh2en.json
  inherit_comment: false

# -------------------------------------
# tips  charâ†å­— è¯â†’all
# -------------------------------------
chaifen:
  opencc_config: wb_cf.json
  option_name: chaifen
  show_in_comment: true 
  comment_format:     
    - "xform/-/ /"
  tags:     
    - abc
    - pinyin
  tips: all   

# -------------------------------------
# ç®€ç¹åˆ‡æ¢ 
# opencc_config s2t.json â†’ s2hk.json  | s2tw.json | s2twp.json
# tips                   â†’ all | char | none
# -------------------------------------
traditionalize:
  option_name: traditionalization
  opencc_config: s2tw.json
  tips: char
  tags: [ abc, number, gregorian_to_lunar ]